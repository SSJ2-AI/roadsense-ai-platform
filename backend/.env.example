# RoadSense Backend Environment Configuration
# Copy this file to .env and fill in your values for local development

# ========================================
# General Configuration
# ========================================
ENV=production
LOG_LEVEL=INFO

# CORS origins (comma-separated)
ALLOWED_ORIGINS=https://roadsense.brampton.ca,https://*.web.app,https://*.firebaseapp.com

# ========================================
# Security / Authentication
# ========================================
# Comma-separated API keys for mobile app authentication
# CRITICAL: Rotate regularly and store in Secret Manager for production
# Example: API_KEYS=key1-abc123,key2-xyz789
API_KEYS=

# ========================================
# Google Cloud Platform
# ========================================
# GCP project ID
GCP_PROJECT_ID=

# Path to service account JSON (only needed for local development)
# In Cloud Run, this is automatically provided
GOOGLE_APPLICATION_CREDENTIALS=

# ========================================
# Cloud Storage
# ========================================
# GCS bucket name for storing uploaded images
# Example: GCS_BUCKET=roadsense-pothole-images
GCS_BUCKET=

# ========================================
# Firestore
# ========================================
# Firestore collection name for detection records
FIRESTORE_COLLECTION=detections

# Data retention in days (used to set expiresAt field)
DATA_RETENTION_DAYS=90

# ========================================
# Machine Learning
# ========================================
# Path to YOLOv8 model weights inside container
YOLO_MODEL_PATH=/app/models/pothole_yolov8n.pt

# Confidence threshold for detections (0.0-1.0)
YOLO_CONFIDENCE_THRESHOLD=0.35

# ========================================
# API Configuration
# ========================================
# Maximum upload size in MB
MAX_UPLOAD_SIZE_MB=15

# ========================================
# Feature Flags
# ========================================
# Enable/disable DBSCAN clustering for hotspot detection
ENABLE_CLUSTERING=true

# Enable/disable reverse geocoding (requires GOOGLE_MAPS_API_KEY)
ENABLE_REVERSE_GEOCODING=true

# Enable/disable priority scoring system
ENABLE_PRIORITY_SCORING=true

# Enable/disable analytics endpoints
ENABLE_ANALYTICS=true

# ========================================
# Google Maps API
# ========================================
# Google Maps API key for reverse geocoding
# Get from: https://console.cloud.google.com/google/maps-apis
# Enable: Geocoding API
GOOGLE_MAPS_API_KEY=

# ========================================
# Local Development Example
# ========================================
# ENV=local
# API_KEYS=test123,dev456
# GCP_PROJECT_ID=roadsense-dev
# GCS_BUCKET=roadsense-dev-images
# GOOGLE_MAPS_API_KEY=your-dev-key-here
# FIRESTORE_COLLECTION=detections_dev
# LOG_LEVEL=DEBUG
